/*!
 * w-ftp v1.0.13
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("path"),require("fs"),require("net"),require("events"),require("util"),require("stream"),require("stream-combiner"),require("ftp-response-parser"),require("parse-listing"),require("once"),require("unorm"),require("debug"),require("ssh2-sftp-client")):"function"==typeof define&&define.amd?define(["path","fs","net","events","util","stream","stream-combiner","ftp-response-parser","parse-listing","once","unorm","debug","ssh2-sftp-client"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-ftp"]=e(t.path,t.fs,t.net,t.events,t.util,t.stream,t["stream-combiner"],t["ftp-response-parser"],t["parse-listing"],t.once,t.unorm,t.debug,t["ssh2-sftp-client"])}(this,(function(t,e,r,n,o,i,u,a,c,s,f,l,p){"use strict";var h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function v(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d=Array.isArray,y="object"==typeof h&&h&&h.Object===Object&&h,b=y,g="object"==typeof self&&self&&self.Object===Object&&self,m=b||g||Function("return this")(),j=m.Symbol,_=j,w=Object.prototype,O=w.hasOwnProperty,$=w.toString,S=_?_.toStringTag:void 0;var P=function(t){var e=O.call(t,S),r=t[S];try{t[S]=void 0;var n=!0}catch(t){}var o=$.call(t);return n&&(e?t[S]=r:delete t[S]),o},k=Object.prototype.toString;var T=P,x=function(t){return k.call(t)},z=j?j.toStringTag:void 0;var D=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":z&&z in Object(t)?T(t):x(t)};var M=function(t){return null!=t&&"object"==typeof t},F=D,A=M;var E=function(t){return"symbol"==typeof t||A(t)&&"[object Symbol]"==F(t)},L=d,R=E,C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y=/^\w*$/;var I=function(t,e){if(L(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!R(t))||(Y.test(t)||!C.test(t)||null!=e&&t in Object(e))};var U=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},N=D,H=U;var q,B=function(t){if(!H(t))return!1;var e=N(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},W=m["__core-js_shared__"],V=(q=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"";var Q=function(t){return!!V&&V in t},Z=Function.prototype.toString;var G=function(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""},J=B,K=Q,X=U,tt=G,et=/^\[object .+?Constructor\]$/,rt=Function.prototype,nt=Object.prototype,ot=rt.toString,it=nt.hasOwnProperty,ut=RegExp("^"+ot.call(it).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var at=function(t){return!(!X(t)||K(t))&&(J(t)?ut:et).test(tt(t))},ct=function(t,e){return null==t?void 0:t[e]};var st=function(t,e){var r=ct(t,e);return at(r)?r:void 0},ft=st(Object,"create"),lt=ft;var pt=function(){this.__data__=lt?lt(null):{},this.size=0};var ht=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},vt=ft,dt=Object.prototype.hasOwnProperty;var yt=function(t){var e=this.__data__;if(vt){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return dt.call(e,t)?e[t]:void 0},bt=ft,gt=Object.prototype.hasOwnProperty;var mt=ft;var jt=pt,_t=ht,wt=yt,Ot=function(t){var e=this.__data__;return bt?void 0!==e[t]:gt.call(e,t)},$t=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=mt&&void 0===e?"__lodash_hash_undefined__":e,this};function St(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}St.prototype.clear=jt,St.prototype.delete=_t,St.prototype.get=wt,St.prototype.has=Ot,St.prototype.set=$t;var Pt=St;var kt=function(){this.__data__=[],this.size=0};var Tt=function(t,e){return t===e||t!=t&&e!=e},xt=Tt;var zt=function(t,e){for(var r=t.length;r--;)if(xt(t[r][0],e))return r;return-1},Dt=zt,Mt=Array.prototype.splice;var Ft=zt;var At=zt;var Et=zt;var Lt=kt,Rt=function(t){var e=this.__data__,r=Dt(e,t);return!(r<0)&&(r==e.length-1?e.pop():Mt.call(e,r,1),--this.size,!0)},Ct=function(t){var e=this.__data__,r=Ft(e,t);return r<0?void 0:e[r][1]},Yt=function(t){return At(this.__data__,t)>-1},It=function(t,e){var r=this.__data__,n=Et(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function Ut(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ut.prototype.clear=Lt,Ut.prototype.delete=Rt,Ut.prototype.get=Ct,Ut.prototype.has=Yt,Ut.prototype.set=It;var Nt=Ut,Ht=st(m,"Map"),qt=Pt,Bt=Nt,Wt=Ht;var Vt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Qt=function(t,e){var r=t.__data__;return Vt(e)?r["string"==typeof e?"string":"hash"]:r.map},Zt=Qt;var Gt=Qt;var Jt=Qt;var Kt=Qt;var Xt=function(t,e){var r=Kt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},te=function(){this.size=0,this.__data__={hash:new qt,map:new(Wt||Bt),string:new qt}},ee=function(t){var e=Zt(this,t).delete(t);return this.size-=e?1:0,e},re=function(t){return Gt(this,t).get(t)},ne=function(t){return Jt(this,t).has(t)},oe=Xt;function ie(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ie.prototype.clear=te,ie.prototype.delete=ee,ie.prototype.get=re,ie.prototype.has=ne,ie.prototype.set=oe;var ue=ie,ae=ue;function ce(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u)||i,u};return r.cache=new(ce.Cache||ae),r}ce.Cache=ae;var se=ce;var fe=function(t){var e=se(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e},le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pe=/\\(\\)?/g,he=fe((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(le,(function(t,r,n,o){e.push(n?o.replace(pe,"$1"):r||t)})),e}));var ve=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},de=ve,ye=d,be=E,ge=j?j.prototype:void 0,me=ge?ge.toString:void 0;var je=function t(e){if("string"==typeof e)return e;if(ye(e))return de(e,t)+"";if(be(e))return me?me.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r},_e=je;var we=d,Oe=I,$e=he,Se=function(t){return null==t?"":_e(t)};var Pe=function(t,e){return we(t)?t:Oe(t,e)?[t]:$e(Se(t))},ke=E;var Te=function(t){if("string"==typeof t||ke(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e},xe=Pe,ze=Te;var De=function(t,e){for(var r=0,n=(e=xe(e,t)).length;null!=t&&r<n;)t=t[ze(e[r++])];return r&&r==n?t:void 0},Me=De;var Fe=function(t,e,r){var n=null==t?void 0:Me(t,e);return void 0===n?r:n};function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function Ee(t){var e=function(t,e){if("object"!==Ae(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ae(e)?e:String(e)}function Le(t,e,r){return(e=Ee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Re=Nt;var Ce=Nt,Ye=Ht,Ie=ue;var Ue=Nt,Ne=function(){this.__data__=new Re,this.size=0},He=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},qe=function(t){return this.__data__.get(t)},Be=function(t){return this.__data__.has(t)},We=function(t,e){var r=this.__data__;if(r instanceof Ce){var n=r.__data__;if(!Ye||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ie(n)}return r.set(t,e),this.size=r.size,this};function Ve(t){var e=this.__data__=new Ue(t);this.size=e.size}Ve.prototype.clear=Ne,Ve.prototype.delete=He,Ve.prototype.get=qe,Ve.prototype.has=Be,Ve.prototype.set=We;var Qe=Ve;var Ze=ue,Ge=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Je=function(t){return this.__data__.has(t)};function Ke(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Ze;++e<r;)this.add(t[e])}Ke.prototype.add=Ke.prototype.push=Ge,Ke.prototype.has=Je;var Xe=Ke,tr=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1},er=function(t,e){return t.has(e)};var rr=function(t,e,r,n,o,i){var u=1&r,a=t.length,c=e.length;if(a!=c&&!(u&&c>a))return!1;var s=i.get(t),f=i.get(e);if(s&&f)return s==e&&f==t;var l=-1,p=!0,h=2&r?new Xe:void 0;for(i.set(t,e),i.set(e,t);++l<a;){var v=t[l],d=e[l];if(n)var y=u?n(d,v,l,e,t,i):n(v,d,l,t,e,i);if(void 0!==y){if(y)continue;p=!1;break}if(h){if(!tr(e,(function(t,e){if(!er(h,e)&&(v===t||o(v,t,r,n,i)))return h.push(e)}))){p=!1;break}}else if(v!==d&&!o(v,d,r,n,i)){p=!1;break}}return i.delete(t),i.delete(e),p};var nr=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r};var or=m.Uint8Array,ir=Tt,ur=rr,ar=nr,cr=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},sr=j?j.prototype:void 0,fr=sr?sr.valueOf:void 0;var lr=function(t,e,r,n,o,i,u){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new or(t),new or(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ir(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=ar;case"[object Set]":var c=1&n;if(a||(a=cr),t.size!=e.size&&!c)return!1;var s=u.get(t);if(s)return s==e;n|=2,u.set(t,e);var f=ur(a(t),a(e),n,o,i,u);return u.delete(t),f;case"[object Symbol]":if(fr)return fr.call(t)==fr.call(e)}return!1};var pr=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},hr=d;var vr=function(t,e,r){var n=e(t);return hr(t)?n:pr(n,r(t))};var dr=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var u=t[r];e(u,r,t)&&(i[o++]=u)}return i};var yr=dr,br=function(){return[]},gr=Object.prototype.propertyIsEnumerable,mr=Object.getOwnPropertySymbols,jr=mr?function(t){return null==t?[]:(t=Object(t),yr(mr(t),(function(e){return gr.call(t,e)})))}:br;var _r=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n},wr=D,Or=M;var $r=function(t){return Or(t)&&"[object Arguments]"==wr(t)},Sr=M,Pr=Object.prototype,kr=Pr.hasOwnProperty,Tr=Pr.propertyIsEnumerable,xr=$r(function(){return arguments}())?$r:function(t){return Sr(t)&&kr.call(t,"callee")&&!Tr.call(t,"callee")},zr=xr,Dr={};var Mr=function(){return!1};!function(t,e){var r=m,n=Mr,o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,u=i&&i.exports===o?r.Buffer:void 0,a=(u?u.isBuffer:void 0)||n;t.exports=a}({get exports(){return Dr},set exports(t){Dr=t}},Dr);var Fr=/^(?:0|[1-9]\d*)$/;var Ar=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Fr.test(t))&&t>-1&&t%1==0&&t<e};var Er=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Lr=D,Rr=Er,Cr=M,Yr={};Yr["[object Float32Array]"]=Yr["[object Float64Array]"]=Yr["[object Int8Array]"]=Yr["[object Int16Array]"]=Yr["[object Int32Array]"]=Yr["[object Uint8Array]"]=Yr["[object Uint8ClampedArray]"]=Yr["[object Uint16Array]"]=Yr["[object Uint32Array]"]=!0,Yr["[object Arguments]"]=Yr["[object Array]"]=Yr["[object ArrayBuffer]"]=Yr["[object Boolean]"]=Yr["[object DataView]"]=Yr["[object Date]"]=Yr["[object Error]"]=Yr["[object Function]"]=Yr["[object Map]"]=Yr["[object Number]"]=Yr["[object Object]"]=Yr["[object RegExp]"]=Yr["[object Set]"]=Yr["[object String]"]=Yr["[object WeakMap]"]=!1;var Ir=function(t){return Cr(t)&&Rr(t.length)&&!!Yr[Lr(t)]};var Ur=function(t){return function(e){return t(e)}},Nr={};!function(t,e){var r=y,n=e&&!e.nodeType&&e,o=n&&t&&!t.nodeType&&t,i=o&&o.exports===n&&r.process,u=function(){try{var t=o&&o.require&&o.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=u}({get exports(){return Nr},set exports(t){Nr=t}},Nr);var Hr=Ir,qr=Ur,Br=Nr&&Nr.isTypedArray,Wr=Br?qr(Br):Hr,Vr=_r,Qr=zr,Zr=d,Gr=Dr,Jr=Ar,Kr=Wr,Xr=Object.prototype.hasOwnProperty;var tn=function(t,e){var r=Zr(t),n=!r&&Qr(t),o=!r&&!n&&Gr(t),i=!r&&!n&&!o&&Kr(t),u=r||n||o||i,a=u?Vr(t.length,String):[],c=a.length;for(var s in t)!e&&!Xr.call(t,s)||u&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Jr(s,c))||a.push(s);return a},en=Object.prototype;var rn=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||en)};var nn=function(t,e){return function(r){return t(e(r))}},on=nn(Object.keys,Object),un=rn,an=on,cn=Object.prototype.hasOwnProperty;var sn=function(t){if(!un(t))return an(t);var e=[];for(var r in Object(t))cn.call(t,r)&&"constructor"!=r&&e.push(r);return e},fn=B,ln=Er;var pn=function(t){return null!=t&&ln(t.length)&&!fn(t)},hn=tn,vn=sn,dn=pn;var yn=function(t){return dn(t)?hn(t):vn(t)},bn=vr,gn=jr,mn=yn;var jn=function(t){return bn(t,mn,gn)},_n=Object.prototype.hasOwnProperty;var wn=function(t,e,r,n,o,i){var u=1&r,a=jn(t),c=a.length;if(c!=jn(e).length&&!u)return!1;for(var s=c;s--;){var f=a[s];if(!(u?f in e:_n.call(e,f)))return!1}var l=i.get(t),p=i.get(e);if(l&&p)return l==e&&p==t;var h=!0;i.set(t,e),i.set(e,t);for(var v=u;++s<c;){var d=t[f=a[s]],y=e[f];if(n)var b=u?n(y,d,f,e,t,i):n(d,y,f,t,e,i);if(!(void 0===b?d===y||o(d,y,r,n,i):b)){h=!1;break}v||(v="constructor"==f)}if(h&&!v){var g=t.constructor,m=e.constructor;g==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m||(h=!1)}return i.delete(t),i.delete(e),h},On=st(m,"DataView"),$n=Ht,Sn=st(m,"Promise"),Pn=st(m,"Set"),kn=st(m,"WeakMap"),Tn=D,xn=G,zn="[object Map]",Dn="[object Promise]",Mn="[object Set]",Fn="[object WeakMap]",An="[object DataView]",En=xn(On),Ln=xn($n),Rn=xn(Sn),Cn=xn(Pn),Yn=xn(kn),In=Tn;(On&&In(new On(new ArrayBuffer(1)))!=An||$n&&In(new $n)!=zn||Sn&&In(Sn.resolve())!=Dn||Pn&&In(new Pn)!=Mn||kn&&In(new kn)!=Fn)&&(In=function(t){var e=Tn(t),r="[object Object]"==e?t.constructor:void 0,n=r?xn(r):"";if(n)switch(n){case En:return An;case Ln:return zn;case Rn:return Dn;case Cn:return Mn;case Yn:return Fn}return e});var Un=In,Nn=Qe,Hn=rr,qn=lr,Bn=wn,Wn=Un,Vn=d,Qn=Dr,Zn=Wr,Gn="[object Arguments]",Jn="[object Array]",Kn="[object Object]",Xn=Object.prototype.hasOwnProperty;var to=function(t,e,r,n,o,i){var u=Vn(t),a=Vn(e),c=u?Jn:Wn(t),s=a?Jn:Wn(e),f=(c=c==Gn?Kn:c)==Kn,l=(s=s==Gn?Kn:s)==Kn,p=c==s;if(p&&Qn(t)){if(!Qn(e))return!1;u=!0,f=!1}if(p&&!f)return i||(i=new Nn),u||Zn(t)?Hn(t,e,r,n,o,i):qn(t,e,c,r,n,o,i);if(!(1&r)){var h=f&&Xn.call(t,"__wrapped__"),v=l&&Xn.call(e,"__wrapped__");if(h||v){var d=h?t.value():t,y=v?e.value():e;return i||(i=new Nn),o(d,y,r,n,i)}}return!!p&&(i||(i=new Nn),Bn(t,e,r,n,o,i))},eo=M;var ro=function t(e,r,n,o,i){return e===r||(null==e||null==r||!eo(e)&&!eo(r)?e!=e&&r!=r:to(e,r,n,o,t,i))},no=Qe,oo=ro;var io=U;var uo=function(t){return t==t&&!io(t)},ao=uo,co=yn;var so=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}},fo=function(t,e,r,n){var o=r.length,i=o,u=!n;if(null==t)return!i;for(t=Object(t);o--;){var a=r[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var c=(a=r[o])[0],s=t[c],f=a[1];if(u&&a[2]){if(void 0===s&&!(c in t))return!1}else{var l=new no;if(n)var p=n(s,f,c,t,e,l);if(!(void 0===p?oo(f,s,3,n,l):p))return!1}}return!0},lo=function(t){for(var e=co(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,ao(o)]}return e},po=so;var ho=Pe,vo=zr,yo=d,bo=Ar,go=Er,mo=Te;var jo=function(t,e,r){for(var n=-1,o=(e=ho(e,t)).length,i=!1;++n<o;){var u=mo(e[n]);if(!(i=null!=t&&r(t,u)))break;t=t[u]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&go(o)&&bo(u,o)&&(yo(t)||vo(t))},_o=function(t,e){return null!=t&&e in Object(t)},wo=jo;var Oo=function(t,e){return null!=t&&wo(t,e,_o)},$o=ro,So=Fe,Po=Oo,ko=I,To=uo,xo=so,zo=Te;var Do=function(t,e){return ko(t)&&To(e)?xo(zo(t),e):function(r){var n=So(r,t);return void 0===n&&n===e?Po(r,t):$o(e,n,3)}};var Mo=function(t){return t};var Fo=function(t){return function(e){return null==e?void 0:e[t]}},Ao=De;var Eo=function(t){return function(e){return Ao(e,t)}},Lo=Fo,Ro=Eo,Co=I,Yo=Te;var Io=function(t){return Co(t)?Lo(Yo(t)):Ro(t)},Uo=function(t){var e=lo(t);return 1==e.length&&e[0][2]?po(e[0][0],e[0][1]):function(r){return r===t||fo(r,t,e)}},No=Do,Ho=Mo,qo=d,Bo=Io;var Wo=function(t){return"function"==typeof t?t:null==t?Ho:"object"==typeof t?qo(t)?No(t[0],t[1]):Uo(t):Bo(t)};var Vo=function(t){return function(e,r,n){for(var o=-1,i=Object(e),u=n(e),a=u.length;a--;){var c=u[t?a:++o];if(!1===r(i[c],c,i))break}return e}},Qo=Vo(),Zo=yn;var Go=pn;var Jo=function(t,e){return function(r,n){if(null==r)return r;if(!Go(r))return t(r,n);for(var o=r.length,i=e?o:-1,u=Object(r);(e?i--:++i<o)&&!1!==n(u[i],i,u););return r}},Ko=Jo((function(t,e){return t&&Qo(t,e,Zo)})),Xo=Ko,ti=pn;var ei=ve,ri=Wo,ni=function(t,e){var r=-1,n=ti(t)?Array(t.length):[];return Xo(t,(function(t,o,i){n[++r]=e(t,o,i)})),n},oi=d;var ii=function(t,e){return(oi(t)?ei:ni)(t,ri(e))},ui={};var ai=Mo;var ci=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t},si=Ko,fi=function(t){return"function"==typeof t?t:ai},li=d;var pi=function(t,e){return(li(t)?ci:si)(t,fi(e))};!function(t){t.exports=pi}({get exports(){return ui},set exports(t){ui=t}});var hi=v(ui),vi=D,di=d,yi=M;var bi=function(t){return"string"==typeof t||!di(t)&&yi(t)&&"[object String]"==vi(t)},gi=Fo("length"),mi=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var ji=function(t){return mi.test(t)},_i="\\ud800-\\udfff",wi="["+_i+"]",Oi="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",$i="\\ud83c[\\udffb-\\udfff]",Si="[^"+_i+"]",Pi="(?:\\ud83c[\\udde6-\\uddff]){2}",ki="[\\ud800-\\udbff][\\udc00-\\udfff]",Ti="(?:"+Oi+"|"+$i+")"+"?",xi="[\\ufe0e\\ufe0f]?",zi=xi+Ti+("(?:\\u200d(?:"+[Si,Pi,ki].join("|")+")"+xi+Ti+")*"),Di="(?:"+[Si+Oi+"?",Oi,Pi,ki,wi].join("|")+")",Mi=RegExp($i+"(?="+$i+")|"+Di+zi,"g");var Fi=gi,Ai=ji,Ei=function(t){for(var e=Mi.lastIndex=0;Mi.test(t);)++e;return e};var Li=sn,Ri=Un,Ci=pn,Yi=bi,Ii=function(t){return Ai(t)?Ei(t):Fi(t)};var Ui=function(t){if(null==t)return 0;if(Ci(t))return Yi(t)?Ii(t):t.length;var e=Ri(t);return"[object Map]"==e||"[object Set]"==e?t.size:Li(t).length};var Ni=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};function Hi(){let t,e,r=new Promise((function(){t=arguments[0],e=arguments[1]}));return r.resolve=t,r.reject=e,r}var qi="object"==typeof global&&global&&global.Object===Object&&global,Bi="object"==typeof self&&self&&self.Object===Object&&self,Wi=qi||Bi||Function("return this")(),Vi=/\s/;var Qi=/^\s+/;function Zi(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&Vi.test(t.charAt(e)););return e}(t)+1).replace(Qi,""):t}function Gi(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var Ji=Wi.Symbol,Ki=Object.prototype,Xi=Ki.hasOwnProperty,tu=Ki.toString,eu=Ji?Ji.toStringTag:void 0;var ru=Object.prototype.toString;var nu="[object Null]",ou="[object Undefined]",iu=Ji?Ji.toStringTag:void 0;function uu(t){return null==t?void 0===t?ou:nu:iu&&iu in Object(t)?function(t){var e=Xi.call(t,eu),r=t[eu];try{t[eu]=void 0;var n=!0}catch(t){}var o=tu.call(t);return n&&(e?t[eu]=r:delete t[eu]),o}(t):function(t){return ru.call(t)}(t)}function au(t){return null!=t&&"object"==typeof t}var cu="[object Symbol]";function su(t){return"symbol"==typeof t||au(t)&&uu(t)==cu}var fu=NaN,lu=/^[-+]0x[0-9a-f]+$/i,pu=/^0b[01]+$/i,hu=/^0o[0-7]+$/i,vu=parseInt;function du(t){if("number"==typeof t)return t;if(su(t))return fu;if(Gi(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Gi(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Zi(t);var r=pu.test(t);return r||hu.test(t)?vu(t.slice(2),r?2:8):lu.test(t)?fu:+t}var yu=1/0,bu=17976931348623157e292;function gu(t){return t?(t=du(t))===yu||t===-yu?(t<0?-1:1)*bu:t==t?t:0:0===t?t:0}function mu(t){var e=gu(t),r=e%1;return e==e?r?e-r:e:0}function ju(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}var _u=Array.isArray,wu=1/0,Ou=Ji?Ji.prototype:void 0,$u=Ou?Ou.toString:void 0;function Su(t){if("string"==typeof t)return t;if(_u(t))return ju(t,Su)+"";if(su(t))return $u?$u.call(t):"";var e=t+"";return"0"==e&&1/t==-wu?"-0":e}function Pu(t){return null==t?"":Su(t)}var ku=Wi.isFinite,Tu=Math.min;var xu,zu=(xu=Math["round"],function(t,e){if(t=du(t),(e=null==e?0:Tu(mu(e),292))&&ku(t)){var r=(Pu(t)+"e").split("e");return+((r=(Pu(xu(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(+r[1]-e))}return xu(t)});function Du(t){return!(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)||""===t)}function Mu(t){let e=!1;if(Du(t))e=!isNaN(Number(t));else if(function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)){if(function(t){return t!=t}(t))return!1;e=!0}return e}function Fu(t){if(!Mu(t))return 0;return gu(t)}function Au(t){if(!Mu(t))return 0;t=Fu(t);let e=zu(t);return"0"===String(e)?0:e}function Eu(t){return!!Mu(t)&&(t=Fu(t),"number"==typeof(e=t)&&e==mu(e));var e}function Lu(t){if(!Eu(t))return!1;return Au(t)>0}function Ru(t){return"[object Object]"===Object.prototype.toString.call(t)}function Cu(t){if(Ru(t)){for(let e in t)return!0;return!1}return!1}function Yu(t){let e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e}function Iu(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}var Uu,Nu=function(t,e,r){for(var n=-1,o=Object(t),i=r(t),u=i.length;u--;){var a=i[Uu?u:++n];if(!1===e(o[a],a,o))break}return t};function Hu(t){return au(t)&&"[object Arguments]"==uu(t)}var qu=Object.prototype,Bu=qu.hasOwnProperty,Wu=qu.propertyIsEnumerable,Vu=Hu(function(){return arguments}())?Hu:function(t){return au(t)&&Bu.call(t,"callee")&&!Wu.call(t,"callee")},Qu=Vu;var Zu="object"==typeof exports&&exports&&!exports.nodeType&&exports,Gu=Zu&&"object"==typeof module&&module&&!module.nodeType&&module,Ju=Gu&&Gu.exports===Zu?Wi.Buffer:void 0,Ku=(Ju?Ju.isBuffer:void 0)||function(){return!1},Xu=9007199254740991,ta=/^(?:0|[1-9]\d*)$/;function ea(t,e){var r=typeof t;return!!(e=null==e?Xu:e)&&("number"==r||"symbol"!=r&&ta.test(t))&&t>-1&&t%1==0&&t<e}var ra=9007199254740991;function na(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=ra}var oa={};oa["[object Float32Array]"]=oa["[object Float64Array]"]=oa["[object Int8Array]"]=oa["[object Int16Array]"]=oa["[object Int32Array]"]=oa["[object Uint8Array]"]=oa["[object Uint8ClampedArray]"]=oa["[object Uint16Array]"]=oa["[object Uint32Array]"]=!0,oa["[object Arguments]"]=oa["[object Array]"]=oa["[object ArrayBuffer]"]=oa["[object Boolean]"]=oa["[object DataView]"]=oa["[object Date]"]=oa["[object Error]"]=oa["[object Function]"]=oa["[object Map]"]=oa["[object Number]"]=oa["[object Object]"]=oa["[object RegExp]"]=oa["[object Set]"]=oa["[object String]"]=oa["[object WeakMap]"]=!1;var ia="object"==typeof exports&&exports&&!exports.nodeType&&exports,ua=ia&&"object"==typeof module&&module&&!module.nodeType&&module,aa=ua&&ua.exports===ia&&qi.process,ca=function(){try{var t=ua&&ua.require&&ua.require("util").types;return t||aa&&aa.binding&&aa.binding("util")}catch(t){}}(),sa=ca&&ca.isTypedArray,fa=sa?function(t){return function(e){return t(e)}}(sa):function(t){return au(t)&&na(t.length)&&!!oa[uu(t)]},la=fa,pa=Object.prototype.hasOwnProperty;function ha(t,e){var r=_u(t),n=!r&&Qu(t),o=!r&&!n&&Ku(t),i=!r&&!n&&!o&&la(t),u=r||n||o||i,a=u?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=a.length;for(var s in t)!e&&!pa.call(t,s)||u&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ea(s,c))||a.push(s);return a}var va=Object.prototype;var da=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),ya=da,ba=Object.prototype.hasOwnProperty;function ga(t){if(r=(e=t)&&e.constructor,e!==("function"==typeof r&&r.prototype||va))return ya(t);var e,r,n=[];for(var o in Object(t))ba.call(t,o)&&"constructor"!=o&&n.push(o);return n}var ma="[object AsyncFunction]",ja="[object Function]",_a="[object GeneratorFunction]",wa="[object Proxy]";function Oa(t){if(!Gi(t))return!1;var e=uu(t);return e==ja||e==_a||e==ma||e==wa}function $a(t){return null!=t&&na(t.length)&&!Oa(t)}function Sa(t){return $a(t)?ha(t):ga(t)}var Pa=function(t,e){return function(r,n){if(null==r)return r;if(!$a(r))return t(r,n);for(var o=r.length,i=e?o:-1,u=Object(r);(e?i--:++i<o)&&!1!==n(u[i],i,u););return r}}((function(t,e){return t&&Nu(t,e,Sa)})),ka=Pa;function Ta(t){return t}function xa(t,e){var r;return(_u(t)?Iu:ka)(t,"function"==typeof(r=e)?r:Ta)}function za(t,e){return t===e||t!=t&&e!=e}function Da(t,e){for(var r=t.length;r--;)if(za(t[r][0],e))return r;return-1}var Ma=Array.prototype.splice;function Fa(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Fa.prototype.clear=function(){this.__data__=[],this.size=0},Fa.prototype.delete=function(t){var e=this.__data__,r=Da(e,t);return!(r<0)&&(r==e.length-1?e.pop():Ma.call(e,r,1),--this.size,!0)},Fa.prototype.get=function(t){var e=this.__data__,r=Da(e,t);return r<0?void 0:e[r][1]},Fa.prototype.has=function(t){return Da(this.__data__,t)>-1},Fa.prototype.set=function(t,e){var r=this.__data__,n=Da(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var Aa=Wi["__core-js_shared__"],Ea=function(){var t=/[^.]+$/.exec(Aa&&Aa.keys&&Aa.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var La=Function.prototype.toString;function Ra(t){if(null!=t){try{return La.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Ca=/^\[object .+?Constructor\]$/,Ya=Function.prototype,Ia=Object.prototype,Ua=Ya.toString,Na=Ia.hasOwnProperty,Ha=RegExp("^"+Ua.call(Na).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qa(t){return!(!Gi(t)||function(t){return!!Ea&&Ea in t}(t))&&(Oa(t)?Ha:Ca).test(Ra(t))}function Ba(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return qa(r)?r:void 0}var Wa=Ba(Wi,"Map"),Va=Ba(Object,"create");var Qa=Object.prototype.hasOwnProperty;var Za=Object.prototype.hasOwnProperty;function Ga(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ja(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function Ka(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ga.prototype.clear=function(){this.__data__=Va?Va(null):{},this.size=0},Ga.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ga.prototype.get=function(t){var e=this.__data__;if(Va){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Qa.call(e,t)?e[t]:void 0},Ga.prototype.has=function(t){var e=this.__data__;return Va?void 0!==e[t]:Za.call(e,t)},Ga.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Va&&void 0===e?"__lodash_hash_undefined__":e,this},Ka.prototype.clear=function(){this.size=0,this.__data__={hash:new Ga,map:new(Wa||Fa),string:new Ga}},Ka.prototype.delete=function(t){var e=Ja(this,t).delete(t);return this.size-=e?1:0,e},Ka.prototype.get=function(t){return Ja(this,t).get(t)},Ka.prototype.has=function(t){return Ja(this,t).has(t)},Ka.prototype.set=function(t,e){var r=Ja(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Xa(t){var e=this.__data__=new Fa(t);this.size=e.size}Xa.prototype.clear=function(){this.__data__=new Fa,this.size=0},Xa.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Xa.prototype.get=function(t){return this.__data__.get(t)},Xa.prototype.has=function(t){return this.__data__.has(t)},Xa.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Fa){var n=r.__data__;if(!Wa||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ka(n)}return r.set(t,e),this.size=r.size,this};function tc(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Ka;++e<r;)this.add(t[e])}function ec(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}tc.prototype.add=tc.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},tc.prototype.has=function(t){return this.__data__.has(t)};var rc=1,nc=2;function oc(t,e,r,n,o,i){var u=r&rc,a=t.length,c=e.length;if(a!=c&&!(u&&c>a))return!1;var s=i.get(t),f=i.get(e);if(s&&f)return s==e&&f==t;var l=-1,p=!0,h=r&nc?new tc:void 0;for(i.set(t,e),i.set(e,t);++l<a;){var v=t[l],d=e[l];if(n)var y=u?n(d,v,l,e,t,i):n(v,d,l,t,e,i);if(void 0!==y){if(y)continue;p=!1;break}if(h){if(!ec(e,(function(t,e){if(u=e,!h.has(u)&&(v===t||o(v,t,r,n,i)))return h.push(e);var u}))){p=!1;break}}else if(v!==d&&!o(v,d,r,n,i)){p=!1;break}}return i.delete(t),i.delete(e),p}var ic=Wi.Uint8Array;function uc(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function ac(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var cc=1,sc=2,fc="[object Boolean]",lc="[object Date]",pc="[object Error]",hc="[object Map]",vc="[object Number]",dc="[object RegExp]",yc="[object Set]",bc="[object String]",gc="[object Symbol]",mc="[object ArrayBuffer]",jc="[object DataView]",_c=Ji?Ji.prototype:void 0,wc=_c?_c.valueOf:void 0;var Oc=Object.prototype.propertyIsEnumerable,$c=Object.getOwnPropertySymbols,Sc=$c?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var u=t[r];e(u,r,t)&&(i[o++]=u)}return i}($c(t),(function(e){return Oc.call(t,e)})))}:function(){return[]};function Pc(t){return function(t,e,r){var n=e(t);return _u(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,Sa,Sc)}var kc=1,Tc=Object.prototype.hasOwnProperty;var xc=Ba(Wi,"DataView"),zc=Ba(Wi,"Promise"),Dc=Ba(Wi,"Set"),Mc=Ba(Wi,"WeakMap"),Fc="[object Map]",Ac="[object Promise]",Ec="[object Set]",Lc="[object WeakMap]",Rc="[object DataView]",Cc=Ra(xc),Yc=Ra(Wa),Ic=Ra(zc),Uc=Ra(Dc),Nc=Ra(Mc),Hc=uu;(xc&&Hc(new xc(new ArrayBuffer(1)))!=Rc||Wa&&Hc(new Wa)!=Fc||zc&&Hc(zc.resolve())!=Ac||Dc&&Hc(new Dc)!=Ec||Mc&&Hc(new Mc)!=Lc)&&(Hc=function(t){var e=uu(t),r="[object Object]"==e?t.constructor:void 0,n=r?Ra(r):"";if(n)switch(n){case Cc:return Rc;case Yc:return Fc;case Ic:return Ac;case Uc:return Ec;case Nc:return Lc}return e});var qc=Hc,Bc=1,Wc="[object Arguments]",Vc="[object Array]",Qc="[object Object]",Zc=Object.prototype.hasOwnProperty;function Gc(t,e,r,n,o,i){var u=_u(t),a=_u(e),c=u?Vc:qc(t),s=a?Vc:qc(e),f=(c=c==Wc?Qc:c)==Qc,l=(s=s==Wc?Qc:s)==Qc,p=c==s;if(p&&Ku(t)){if(!Ku(e))return!1;u=!0,f=!1}if(p&&!f)return i||(i=new Xa),u||la(t)?oc(t,e,r,n,o,i):function(t,e,r,n,o,i,u){switch(r){case jc:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case mc:return!(t.byteLength!=e.byteLength||!i(new ic(t),new ic(e)));case fc:case lc:case vc:return za(+t,+e);case pc:return t.name==e.name&&t.message==e.message;case dc:case bc:return t==e+"";case hc:var a=uc;case yc:var c=n&cc;if(a||(a=ac),t.size!=e.size&&!c)return!1;var s=u.get(t);if(s)return s==e;n|=sc,u.set(t,e);var f=oc(a(t),a(e),n,o,i,u);return u.delete(t),f;case gc:if(wc)return wc.call(t)==wc.call(e)}return!1}(t,e,c,r,n,o,i);if(!(r&Bc)){var h=f&&Zc.call(t,"__wrapped__"),v=l&&Zc.call(e,"__wrapped__");if(h||v){var d=h?t.value():t,y=v?e.value():e;return i||(i=new Xa),o(d,y,r,n,i)}}return!!p&&(i||(i=new Xa),function(t,e,r,n,o,i){var u=r&kc,a=Pc(t),c=a.length;if(c!=Pc(e).length&&!u)return!1;for(var s=c;s--;){var f=a[s];if(!(u?f in e:Tc.call(e,f)))return!1}var l=i.get(t),p=i.get(e);if(l&&p)return l==e&&p==t;var h=!0;i.set(t,e),i.set(e,t);for(var v=u;++s<c;){var d=t[f=a[s]],y=e[f];if(n)var b=u?n(y,d,f,e,t,i):n(d,y,f,t,e,i);if(!(void 0===b?d===y||o(d,y,r,n,i):b)){h=!1;break}v||(v="constructor"==f)}if(h&&!v){var g=t.constructor,m=e.constructor;g==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m||(h=!1)}return i.delete(t),i.delete(e),h}(t,e,r,n,o,i))}function Jc(t,e,r,n,o){return t===e||(null==t||null==e||!au(t)&&!au(e)?t!=t&&e!=e:Gc(t,e,r,n,Jc,o))}var Kc=1,Xc=2;function ts(t){return t==t&&!Gi(t)}function es(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}function rs(t){var e=function(t){for(var e=Sa(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,ts(o)]}return e}(t);return 1==e.length&&e[0][2]?es(e[0][0],e[0][1]):function(r){return r===t||function(t,e,r,n){var o=r.length,i=o,u=!n;if(null==t)return!i;for(t=Object(t);o--;){var a=r[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var c=(a=r[o])[0],s=t[c],f=a[1];if(u&&a[2]){if(void 0===s&&!(c in t))return!1}else{var l=new Xa;if(n)var p=n(s,f,c,t,e,l);if(!(void 0===p?Jc(f,s,Kc|Xc,n,l):p))return!1}}return!0}(r,t,e)}}var ns=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,os=/^\w*$/;function is(t,e){if(_u(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!su(t))||(os.test(t)||!ns.test(t)||null!=e&&t in Object(e))}var us="Expected a function";function as(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(us);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u)||i,u};return r.cache=new(as.Cache||Ka),r}as.Cache=Ka;var cs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ss=/\\(\\)?/g,fs=function(t){var e=as(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(cs,(function(t,r,n,o){e.push(n?o.replace(ss,"$1"):r||t)})),e})),ls=fs;function ps(t,e){return _u(t)?t:is(t,e)?[t]:ls(Pu(t))}var hs=1/0;function vs(t){if("string"==typeof t||su(t))return t;var e=t+"";return"0"==e&&1/t==-hs?"-0":e}function ds(t,e){for(var r=0,n=(e=ps(e,t)).length;null!=t&&r<n;)t=t[vs(e[r++])];return r&&r==n?t:void 0}function ys(t,e){return null!=t&&e in Object(t)}function bs(t,e){return null!=t&&function(t,e,r){for(var n=-1,o=(e=ps(e,t)).length,i=!1;++n<o;){var u=vs(e[n]);if(!(i=null!=t&&r(t,u)))break;t=t[u]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&na(o)&&ea(u,o)&&(_u(t)||Qu(t))}(t,e,ys)}var gs=1,ms=2;function js(t,e){return is(t)&&ts(e)?es(vs(t),e):function(r){var n=function(t,e,r){var n=null==t?void 0:ds(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?bs(r,t):Jc(e,n,gs|ms)}}function _s(t){return function(e){return null==e?void 0:e[t]}}function ws(t){return is(t)?_s(vs(t)):function(t){return function(e){return ds(e,t)}}(t)}function Os(t,e){var r=-1,n=$a(t)?Array(t.length):[];return ka(t,(function(t,o,i){n[++r]=e(t,o,i)})),n}function $s(t,e){var r;return(_u(t)?ju:Os)(t,"function"==typeof(r=e)?r:null==r?Ta:"object"==typeof r?_u(r)?js(r[0],r[1]):rs(r):ws(r))}function Ss(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i}function Ps(t){return t!=t}function ks(t,e,r){return e==e?function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}(t,e,r):function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,Ps,r)}var Ts=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function xs(t){return Ts.test(t)}var zs="\\ud800-\\udfff",Ds="["+zs+"]",Ms="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Fs="\\ud83c[\\udffb-\\udfff]",As="[^"+zs+"]",Es="(?:\\ud83c[\\udde6-\\uddff]){2}",Ls="[\\ud800-\\udbff][\\udc00-\\udfff]",Rs="(?:"+Ms+"|"+Fs+")"+"?",Cs="[\\ufe0e\\ufe0f]?",Ys=Cs+Rs+("(?:\\u200d(?:"+[As,Es,Ls].join("|")+")"+Cs+Rs+")*"),Is="(?:"+[As+Ms+"?",Ms,Es,Ls,Ds].join("|")+")",Us=RegExp(Fs+"(?="+Fs+")|"+Is+Ys,"g");function Ns(t){return xs(t)?function(t){return t.match(Us)||[]}(t):function(t){return t.split("")}(t)}function Hs(t,e,r){if((t=Pu(t))&&(r||void 0===e))return Zi(t);if(!t||!(e=Su(e)))return t;var n=Ns(t),o=Ns(e),i=function(t,e){for(var r=-1,n=t.length;++r<n&&ks(e,t[r],0)>-1;);return r}(n,o),u=function(t,e){for(var r=t.length;r--&&ks(e,t[r],0)>-1;);return r}(n,o)+1;return function(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:Ss(t,e,r)}(n,i,u).join("")}function qs(t,e){if(!Du(t))return[];if(!Du(e))return[];let r=function(t,e){return Du(t)&&Du(e)?t.split(e):[]}(t,e);r=$s(r,Hs);let n=[];return xa(r,(function(t){Du(t)&&n.push(t)})),n}function Bs(t){if(!Eu(t))return!1;return Au(t)>=0}function Ws(t,e){return Du(t)&&Bs(e)?0===(e=Au(e))?"":t.substring(0,e):""}function Vs(t,e){let r=Hi();if(n=t,"[object Array]"!==Object.prototype.toString.call(n)&&!Ru(t))return r.reject("rs is not an array or object"),r;var n;let o=!1;if(Ru(t)){o=!0;let e=[];xa(t,((t,r)=>{e.push({k:r,v:t})})),t=e}Yu(e)||(e=function(t){return t});let i=-1,u=[];return t.reduce((function(t,r){return t.then((function(t){u.push(t),i+=1;let n=i,a=r;return o&&(n=r.k,a=r.v),Yu(e)?e(a,n):a}))}),Promise.resolve()).then((function(t){var e,n,o,i;u.push(t),i=null==(e=u)?0:e.length,u=i?Ss(e,(n=o||void 0===n?1:mu(n))<0?0:n,i):[],r.resolve(u)})).catch((function(t){r.reject(t)})),r}var Qs="[object String]";var Zs=_s("length"),Gs="\\ud800-\\udfff",Js="["+Gs+"]",Ks="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Xs="\\ud83c[\\udffb-\\udfff]",tf="[^"+Gs+"]",ef="(?:\\ud83c[\\udde6-\\uddff]){2}",rf="[\\ud800-\\udbff][\\udc00-\\udfff]",nf="(?:"+Ks+"|"+Xs+")"+"?",of="[\\ufe0e\\ufe0f]?",uf=of+nf+("(?:\\u200d(?:"+[tf,ef,rf].join("|")+")"+of+nf+")*"),af="(?:"+[tf+Ks+"?",Ks,ef,rf,Js].join("|")+")",cf=RegExp(Xs+"(?="+Xs+")|"+af+uf,"g");function sf(t){return xs(t)?function(t){for(var e=cf.lastIndex=0;cf.test(t);)++e;return e}(t):Zs(t)}var ff="[object Map]",lf="[object Set]";function pf(t){if(null==t)return 0;if($a(t))return"string"==typeof(e=t)||!_u(e)&&au(e)&&uu(e)==Qs?sf(t):t.length;var e,r=qc(t);return r==ff||r==lf?t.size:ga(t).length}function hf(t,e){if(!Du(t))return"";if(!Bs(e))return"";if(0===(e=Au(e)))return"";let r=t.length-e;return r<0&&(r=0),t.substr(r,e)}function vf(t,e){return Du(t)&&Bs(e)?0===(e=Au(e))?t:Ws(t,t.length-e):""}function df(t){if(!Du(t))return"";let e=function(t){if(!Du(t))return{path:"",isRoot:!1};for(;t.indexOf("\\\\")>=0;)t=t.replace("\\\\","\\");for(;t.indexOf("//")>=0;)t=t.replace("//","/");if(":"===hf(t,1))return{path:`${t}\\`,isRoot:!0};if("\\"===hf(t,1)){let e=vf(t,1);return":"===hf(e,1)?{path:t,isRoot:!0}:{path:e,isRoot:!1}}if("/"===hf(t,1)){let e=vf(t,1);return 0===pf(e)?{path:t,isRoot:!0}:{path:e,isRoot:!1}}return{path:t,isRoot:!1}}(t);if(e.isRoot)return e.path;let r=e.path;try{r=r.split("\\").pop().split("/").pop()}catch(t){}return r}function yf(t){return!!e.existsSync(t)&&(!e.lstatSync(t).isFile()&&!e.lstatSync(t).isSymbolicLink())}function bf(t){return!!e.existsSync(t)&&(!e.lstatSync(t).isDirectory()&&!e.lstatSync(t).isSymbolicLink())}function gf(t){if(yf(t))return{success:"input folder is already exists: "+t};if(e.existsSync(t))return{error:"input path already exists: "+t};try{e.mkdirSync(t,{recursive:!0})}catch(t){return{error:t}}return{success:"done: "+t}}var mf={};!function(t,e){t.exports=function(){var t=1e3,e=6e4,r=36e5,n="millisecond",o="second",i="minute",u="hour",a="day",c="week",s="month",f="quarter",l="year",p="date",h="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],r=t%100;return"["+t+(e[(r-20)%10]||e[r]||e[0])+"]"}},b=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},g={s:b,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),o=r%60;return(e<=0?"+":"-")+b(n,2,"0")+":"+b(o,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),o=e.clone().add(n,s),i=r-o<0,u=e.clone().add(n+(i?-1:1),s);return+(-(n+(r-o)/(i?o-u:u-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:s,y:l,w:c,d:a,D:p,h:u,m:i,s:o,ms:n,Q:f}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},m="en",j={};j[m]=y;var _="$isDayjsObject",w=function(t){return t instanceof P||!(!t||!t[_])},O=function t(e,r,n){var o;if(!e)return m;if("string"==typeof e){var i=e.toLowerCase();j[i]&&(o=i),r&&(j[i]=r,o=i);var u=e.split("-");if(!o&&u.length>1)return t(u[0])}else{var a=e.name;j[a]=e,o=a}return!n&&o&&(m=o),o||!n&&m},$=function(t,e){if(w(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new P(r)},S=g;S.l=O,S.i=w,S.w=function(t,e){return $(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var P=function(){function y(t){this.$L=O(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[_]=!0}var b=y.prototype;return b.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(S.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(v);if(n){var o=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(e)}(t),this.init()},b.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},b.$utils=function(){return S},b.isValid=function(){return!(this.$d.toString()===h)},b.isSame=function(t,e){var r=$(t);return this.startOf(e)<=r&&r<=this.endOf(e)},b.isAfter=function(t,e){return $(t)<this.startOf(e)},b.isBefore=function(t,e){return this.endOf(e)<$(t)},b.$g=function(t,e,r){return S.u(t)?this[e]:this.set(r,t)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(t,e){var r=this,n=!!S.u(e)||e,f=S.p(t),h=function(t,e){var o=S.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?o:o.endOf(a)},v=function(t,e){return S.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},d=this.$W,y=this.$M,b=this.$D,g="set"+(this.$u?"UTC":"");switch(f){case l:return n?h(1,0):h(31,11);case s:return n?h(1,y):h(0,y+1);case c:var m=this.$locale().weekStart||0,j=(d<m?d+7:d)-m;return h(n?b-j:b+(6-j),y);case a:case p:return v(g+"Hours",0);case u:return v(g+"Minutes",1);case i:return v(g+"Seconds",2);case o:return v(g+"Milliseconds",3);default:return this.clone()}},b.endOf=function(t){return this.startOf(t,!1)},b.$set=function(t,e){var r,c=S.p(t),f="set"+(this.$u?"UTC":""),h=(r={},r[a]=f+"Date",r[p]=f+"Date",r[s]=f+"Month",r[l]=f+"FullYear",r[u]=f+"Hours",r[i]=f+"Minutes",r[o]=f+"Seconds",r[n]=f+"Milliseconds",r)[c],v=c===a?this.$D+(e-this.$W):e;if(c===s||c===l){var d=this.clone().set(p,1);d.$d[h](v),d.init(),this.$d=d.set(p,Math.min(this.$D,d.daysInMonth())).$d}else h&&this.$d[h](v);return this.init(),this},b.set=function(t,e){return this.clone().$set(t,e)},b.get=function(t){return this[S.p(t)]()},b.add=function(n,f){var p,h=this;n=Number(n);var v=S.p(f),d=function(t){var e=$(h);return S.w(e.date(e.date()+Math.round(t*n)),h)};if(v===s)return this.set(s,this.$M+n);if(v===l)return this.set(l,this.$y+n);if(v===a)return d(1);if(v===c)return d(7);var y=(p={},p[i]=e,p[u]=r,p[o]=t,p)[v]||1,b=this.$d.getTime()+n*y;return S.w(b,this)},b.subtract=function(t,e){return this.add(-1*t,e)},b.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var n=t||"YYYY-MM-DDTHH:mm:ssZ",o=S.z(this),i=this.$H,u=this.$m,a=this.$M,c=r.weekdays,s=r.months,f=r.meridiem,l=function(t,r,o,i){return t&&(t[r]||t(e,n))||o[r].slice(0,i)},p=function(t){return S.s(i%12||12,t,"0")},v=f||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(d,(function(t,n){return n||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return S.s(e.$y,4,"0");case"M":return a+1;case"MM":return S.s(a+1,2,"0");case"MMM":return l(r.monthsShort,a,s,3);case"MMMM":return l(s,a);case"D":return e.$D;case"DD":return S.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return l(r.weekdaysMin,e.$W,c,2);case"ddd":return l(r.weekdaysShort,e.$W,c,3);case"dddd":return c[e.$W];case"H":return String(i);case"HH":return S.s(i,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return v(i,u,!0);case"A":return v(i,u,!1);case"m":return String(u);case"mm":return S.s(u,2,"0");case"s":return String(e.$s);case"ss":return S.s(e.$s,2,"0");case"SSS":return S.s(e.$ms,3,"0");case"Z":return o}return null}(t)||o.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(n,p,h){var v,d=this,y=S.p(p),b=$(n),g=(b.utcOffset()-this.utcOffset())*e,m=this-b,j=function(){return S.m(d,b)};switch(y){case l:v=j()/12;break;case s:v=j();break;case f:v=j()/3;break;case c:v=(m-g)/6048e5;break;case a:v=(m-g)/864e5;break;case u:v=m/r;break;case i:v=m/e;break;case o:v=m/t;break;default:v=m}return h?v:S.a(v)},b.daysInMonth=function(){return this.endOf(s).$D},b.$locale=function(){return j[this.$L]},b.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=O(t,e,!0);return n&&(r.$L=n),r},b.clone=function(){return S.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},y}(),k=P.prototype;return $.prototype=k,[["$ms",n],["$s",o],["$m",i],["$H",u],["$W",a],["$M",s],["$y",l],["$D",p]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),$.extend=function(t,e){return t.$i||(t(e,P,$),t.$i=!0),$},$.locale=O,$.isDayjs=w,$.unix=function(t){return $(1e3*t)},$.en=j[m],$.Ls=j,$.p={},$}()}({get exports(){return mf},set exports(t){mf=t}});var jf=mf;const _f=r.createConnection,wf=n.EventEmitter,Of=o.inherits,$f=i,Sf=e,Pf=u,kf=a,Tf=c,xf=s,zf=f.nfc,Df=l("jsftp:general"),Mf=l("jsftp:command"),Ff=l("jsftp:response"),Af=function(){},Ef={marks:[125,150],ignore:226},Lf=/([-\d]+,[-\d]+,[-\d]+,[-\d]+),([-\d]+),([-\d]+)/,Rf=/\r\n|\n/;function Cf(t){let e=Af,r=t+" ";for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];"function"==typeof o[o.length-1]&&(e=o.pop()),r+=o.join(" "),this.execute(r.trim(),e)}function Yf(t){this.host=t.host||"localhost",this.port=t.port||21,this.user=t.user||"anonymous",this.pass=t.pass||"@anonymous",this.createSocket=t.createSocket,this.useList=t.useList||!1,this.commandQueue=[],wf.call(this),this.on("data",Ff),this.on("error",Ff),this._createSocket(this.port,this.host)}Of(Yf,wf),Yf.prototype.raw=function(){Cf.apply(this,arguments)},Yf.prototype.reemit=function(t){return e=>{this.emit(t,e),Df(`event:${t}`,e||{})}},Yf.prototype._createSocket=function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Af;this.socket&&this.socket.destroy&&this.socket.destroy(),this.resParser&&this.resParser.end(),this.resParser=new kf,this.authenticated=!1,this.socket=this.createSocket?this.createSocket({port:t,host:e},r):_f(t,e,r),this.socket.on("connect",this.reemit("connect")),this.socket.on("timeout",this.reemit("timeout")),this.pipeline=Pf(this.socket,this.resParser),this.pipeline.on("data",(t=>{this.emit("data",t),Ff(t.text),this.parseResponse(t)})),this.pipeline.on("error",this.reemit("error"))},Yf.prototype.parseResponse=function(t){if(0===this.commandQueue.length)return;if([220].indexOf(t.code)>-1)return;const e=this.commandQueue[0].callback;if(t.isMark){if(!e.expectsMark||-1===e.expectsMark.marks.indexOf(t.code))return;e.expectsMark.ignore&&(this.ignoreCmdCode=e.expectsMark.ignore)}this.ignoreCmdCode!==t.code?this.parse(t,this.commandQueue.shift()):this.ignoreCmdCode=null},Yf.prototype.send=function(t){t&&(Mf(t),this.pipeline.write(t+"\r\n"),Mf(t))},Yf.prototype.nextCmd=function(){const t=this.commandQueue[0];!this.inProgress&&t&&(this.send(t.action),this.inProgress=!0)},Yf.prototype.execute=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Af;if(this.socket&&this.socket.writable)return this.runCommand({action:t,callback:e});this.authenticated=!1,this._createSocket(this.port,this.host,(()=>{this.runCommand({action:t,callback:e})}))},Yf.prototype.runCommand=function(t){if(this.authenticated||/^(feat|syst|user|pass)/.test(t.action))return this.commandQueue.push(t),void this.nextCmd();this.getFeatures((()=>{this.auth(this.user,this.pass,(()=>{this.commandQueue.push(t),this.nextCmd()}))}))},Yf.prototype.parse=function(t,e){let r=null;t.isError&&(r=new Error(t.text||"Unknown FTP error."),r.code=t.code),this.inProgress=!1,e.callback(r,t),this.nextCmd()},Yf.prototype.getPasvPort=function(t){const e=Lf.exec(t);if(!e)return null;let r=e[1].replace(/,/g,".");return"127.0.0.1"===r&&(r=this.host),{host:r,port:256*(255&parseInt(e[2],10))+(255&parseInt(e[3],10))}},Yf.prototype.hasFeat=function(t){return!!t&&this.features.indexOf(t.toLowerCase())>-1},Yf.prototype._parseFeats=function(t){return t.split(Rf).slice(1,-1).map((t=>t.trim().toLowerCase())).filter((t=>!!t))},Yf.prototype.getFeatures=function(t){if(this.features)return t(null,this.features);this.raw("feat",((e,r)=>{this.features=e?[]:this._parseFeats(r.text),this.raw("syst",((e,r)=>{e||215!==r.code||(this.system=r.text.toLowerCase()),t(null,this.features)}))}))},Yf.prototype.auth=function(t,e,r){if(!0===this.authenticating)return r(new Error("This client is already authenticating"));"string"!=typeof t&&(t=this.user),"string"!=typeof e&&(e=this.pass),this.authenticating=!0,this.raw("user",t,((n,o)=>{if(n||-1===[230,331,332].indexOf(o.code))return this.authenticating=!1,void r(n);this.raw("pass",e,((n,o)=>{this.authenticating=!1,n?r(n):[230,202].indexOf(o.code)>-1?(this.authenticated=!0,this.user=t,this.pass=e,this.raw("type","I",(()=>{r(void 0,o)}))):332===o.code&&this.raw("acct","")}))}))},Yf.prototype.setType=function(t,e){if(t=t.toUpperCase(),this.type===t)return e();this.raw("type",t,((r,n)=>{r||(this.type=t),e(r,n)}))},Yf.prototype.list=function(t,e){1===arguments.length&&(e=arguments[0],t="");let r="";e=xf(e),this.getPasvSocket(((n,o)=>{if(n)return e(n);function i(t,r){if(t)return e(t);Ef.marks.some((t=>t===r.code))||e(new Error(`Expected marks ${Ef.toString()} instead of: ${r.text}`))}o.setEncoding("utf8"),o.on("data",(t=>{r+=t})),this.pasvTimeout(o,e),o.once("close",(n=>n?e(n):r?void e(null,r):e({code:451,text:`Could not retrieve a file listing for ${t}.`,isMark:!1,isError:!0}))),o.once("error",e),i.expectsMark=Ef,this.execute(`list ${t||""}`,i)}))},Yf.prototype.emitProgress=function(t){this.emit("progress",{filename:t.filename,action:t.action,total:t.totalSize||0,transferred:t.socket["get"===t.action?"bytesRead":"bytesWritten"]})},Yf.prototype.get=function(t,e){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Af;const o=typeof e;"function"===o?r=e:"string"===o&&(n=xf(n),r=(r,o)=>{if(r)return n(r);const i=Sf.createWriteStream(e);i.on("error",n),o.on("readable",(()=>{this.emitProgress({filename:t,action:"get",socket:o})})),o.on("error",n),o.on("end",n),o.on("close",n),o.pipe(i)}),this.getGetSocket(t,xf(r))},Yf.prototype.getGetSocket=function(t,e){e=xf(e),this.getPasvSocket(((r,n)=>{if(r)return o(r);function o(t,r){return t?(n&&n.destroy(),e(t)):n?125===r.code||150===r.code?e(null,n):(n.destroy(),e(new Error("Unexpected command "+r.text))):e(new Error("Error when retrieving PASV socket"))}n.on("error",(t=>{"ECONNREFUSED"===t.code&&(t.msg="Probably trying a PASV operation while one is in progress"),o(t)})),this.pasvTimeout(n,o),n.pause(),o.expectsMark=Ef,this.execute("retr "+t,o)}))},Yf.prototype.put=function(t,e,r){const n=(t,e,n)=>{t.on("readable",(()=>{this.emitProgress({filename:e,action:"put",socket:t,totalSize:n})})),this.getPutSocket(t,e,r)};t instanceof Buffer?this.getPutSocket(t,e,((e,n)=>{if(e)return r(new Error(e));let o,i=0,u=1048576,a=!1;o=t.slice(i,i+u),i+=u,r(null,o),n.write(t.slice(0,u)),o.length===t.length&&(n.end(),r(null,[])),n.on("drain",(()=>{t.length>i+u?(o=t.slice(i,i+u),i+=u):(o=t.slice(i),a=!0),r(null,o),n.write(o),a&&(n.end(),r(null,[]))}))})):"string"==typeof t?Sf.stat(t,((o,i)=>{if(o&&"ENOENT"===o.code)return r(new Error("Local file doesn't exist."));if(i.isDirectory())return r(new Error("Local path cannot be a directory"));const u=o?0:i.size;n(Sf.createReadStream(t),e,u)})):t instanceof $f.Readable?n(t,e,0):r(new Error("Expected `from` parameter to be a Buffer, Stream, or a String"))},Yf.prototype.getPutSocket=function(t,e,r){r=xf(r||Af),this.getPasvSocket(((n,o)=>{if(n)return o&&o.destroy(),r(n);o.on("close",r),o.on("error",r);const i=xf(((e,n)=>e?(o&&o.destroy(),r(e)):125!==n.code&&150!==n.code?(o&&o.destroy(),r(new Error("Unexpected command "+n.text))):(this.pasvTimeout(o,r),void(t instanceof Buffer?r(null,o):t instanceof $f.Readable&&(r(null,o),t.pipe(o))))));i.expectsMark=Ef,this.execute(`stor ${e}`,i)}))},Yf.prototype.pasvTimeout=function(t,e){t.once("timeout",(()=>{Df("PASV socket timeout"),this.emit("timeout"),t.end(),e(new Error("Passive socket timeout"))}))},Yf.prototype.getPasvSocket=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Af;t=xf(t),this.execute("pasv",((e,r)=>{if(e)return t(e);const n=this.getPasvPort(r.text);if(!n)return t(new Error("Bad passive host/port combination"));const o=this._pasvSocket=this.createSocket?this.createSocket(n):_f(n);o.setTimeout(this.timeout||6e5),o.once("close",(()=>{this._pasvSocket=void 0})),t(null,o)}))},Yf.prototype.ls=function(t,e){function r(t,r){if(t)return e(t);Tf.parseFtpEntries(r.text||r,((t,r)=>{if(t)return e(t);r.forEach((t=>{t.name=zf(t.name)})),e(null,r)}))}this.useList?this.list(t,r):this.raw("stat",t,((e,n)=>{const o=e&&(502===e.code||500===e.code),i=this.system&&this.system.indexOf("hummingbird")>-1;o||i?(this.useList=!0,this.list(t,r)):r(e,n)}))},Yf.prototype.rename=function(t,e,r){this.raw("rnfr",t,(t=>{if(t)return r(t);this.raw("rnto",e,r)}))},Yf.prototype.keepAlive=function(t){this._keepAliveInterval&&clearInterval(this._keepAliveInterval),this._keepAliveInterval=setInterval(this.raw.bind(this,"noop"),t||3e4)},Yf.prototype.destroy=function(){this._keepAliveInterval&&clearInterval(this._keepAliveInterval),this.socket&&this.socket.writable&&this.socket.end(),this._pasvSocket&&this._pasvSocket.writable&&this._pasvSocket.end(),this.resParser.end(),this.socket=void 0,this._pasvSocket=void 0,this.features=null,this.authenticated=!1};var If=Yf;var Uf=/\s/;var Nf=function(t){for(var e=t.length;e--&&Uf.test(t.charAt(e)););return e},Hf=/^\s+/;var qf=function(t){return t?t.slice(0,Nf(t)+1).replace(Hf,""):t},Bf=U,Wf=E,Vf=/^[-+]0x[0-9a-f]+$/i,Qf=/^0b[01]+$/i,Zf=/^0o[0-7]+$/i,Gf=parseInt;var Jf=function(t){if("number"==typeof t)return t;if(Wf(t))return NaN;if(Bf(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Bf(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=qf(t);var r=Qf.test(t);return r||Zf.test(t)?Gf(t.slice(2),r?2:8):Vf.test(t)?NaN:+t},Kf=1/0;var Xf=function(t){return t?(t=Jf(t))===Kf||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var tl=function(t){var e=Xf(t),r=e%1;return e==e?r?e-r:e:0},el=function(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i},rl=tl;var nl=function(t,e,r){var n=null==t?0:t.length;return n?(e=r||void 0===e?1:rl(e),el(t,0,(e=n-e)<0?0:e)):[]};function ol(t,e){return Du(t)&&Bs(e)?0===(e=Au(e))?t:hf(t,t.length-e):""}function il(t){"."===Ws(t,1)&&(t=ol(t,1));let e=qs(t,"/");e=nl(e);let r=[],n=".";return hi(e,(t=>{n+="/"+t,r.push(n)})),r}var ul=Wo,al=pn,cl=yn;var sl=function(t){return function(e,r,n){var o=Object(e);if(!al(e)){var i=ul(r);e=cl(e),r=function(t){return i(o[t],t,o)}}var u=t(e,r,n);return u>-1?o[i?e[u]:u]:void 0}};var fl=function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1},ll=fl,pl=Wo,hl=tl,vl=Math.max;var dl=sl((function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=null==r?0:hl(r);return o<0&&(o=vl(n+o,0)),ll(t,pl(e),o)})),yl="[object Boolean]";function bl(t){return!0===(e=t)||!1===e||au(e)&&uu(e)==yl;var e}var gl=Ko;var ml=dr,jl=function(t,e){var r=[];return gl(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r},_l=Wo,wl=d;var Ol=function(t,e){return(wl(t)?ml:jl)(t,_l(e))},$l=Array.prototype.join;var Sl=function(t,e){return null==t?"":$l.call(t,e)};function Pl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function kl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pl(Object(r),!0).forEach((function(e){Le(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pl(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}async function Tl(r,n){let o=Fe(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"ftpLs");if(!Yu(o))return Promise.reject("opt.ftpLs is not a function");if(!yf(n))return Promise.reject(`fdLocal[${n}] is not a folder`);n=t.resolve(n);let i=function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=1;if(!yf(r))throw new Error(`fd[${r}] is not a folder`);return function r(i){let u=[];return yf(i)?(xa(e.readdirSync(i),(function(a){let c=t.resolve(i,a),s=null;try{s=e.statSync(c)}catch(t){}s&&s.isDirectory()?(u.push({isFolder:!0,level:o,path:c,name:t.basename(c)}),o+=1,(o<=n||null===n)&&(u=u.concat(r(c))),o-=1):u.push({isFolder:!1,level:o,path:c,name:t.basename(c)})})),u):u}(r)}(n,null);i=Ol(i,(t=>!t.isFolder)),i=ii(i,(o=>{let i=e.statSync(o.path);return o.size=Fe(i,"size",0),o.rpath=(e=>{let o=(e=t.resolve(e)).replace(n,""),i=new RegExp("\\\\","g");o=String(o).replace(i,"/");let u=r;return"."===Ws(r,1)&&(u=ol(r,1)),o=[...qs(u,"/"),...qs(o,"/")],o=Sl(o,"/"),o=`./${o}`,o})(o.path),o}));let u=await function(t,e){let r=1,n=Fe(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"levelLimit");Lu(n)||(n=null);let o=async t=>{let i=[],u=await e(t);return await Vs(u,(async e=>{let u=`${t}/${e.name}`;if(e.isFolder){if(i.push(kl(kl({},e),{},{isFolder:!0,level:r,rpath:u,name:df(u)})),r+=1,r<=n||null===n){let t=await o(u);i=i.concat(t)}r-=1}else i.push(kl(kl({},e),{},{isFolder:!1,level:r,rpath:u,name:df(u)}))})),i};return o(t)}(r,o);return u=Ol(u,(t=>!t.isFolder)),u=ii(u,(e=>{var o;return e.lpath=(o=e.rpath,"."!==r&&(o=o.replace(r,"")),"."===Ws(o,1)&&(o=ol(o,1)),"/"===Ws(o,1)&&(o=ol(o,1)),t.resolve(n,o)),e})),{fsRemote:u,fsLocal:i}}async function xl(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=Fe(n,"forceOverwriteWhenSync");bl(o)||(o=!1);let i=Fe(n,"ftpLs");if(!Yu(i))return Promise.reject("opt.ftpLs is not a function");let u=Fe(n,"ftpDownload");if(!Yu(u))return Promise.reject("opt.ftpDownload is not a function");yf(e)||gf(e);let a=await Tl(t,e,{ftpLs:i}),c=a.fsRemote,s=a.fsLocal,f=0,l=[];return await Vs(c,(async t=>{let e=Fe(t,"lpath",""),n=dl(s,{path:e}),i=Fe(t,"rpath",""),a=Fe(t,"lpath",""),c=t=>{Yu(r)&&r(t)};Cu(n)?(o||t.size!==n.size)&&(await u(i,a,c),f++,l.push({path:t.rpath,reason:`size[${n.size}] of local file != size[${t.size}] of remote file`})):(await u(i,a,c),f++,l.push({path:t.rpath,reason:"no local file"}))})),{num:f,files:l}}async function zl(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=Fe(n,"forceOverwriteWhenSync");bl(o)||(o=!1);let i=Fe(n,"ftpLs");if(!Yu(i))return Promise.reject("opt.ftpLs is not a function");let u=Fe(n,"ftpUpload");if(!Yu(u))return Promise.reject("opt.ftpUpload is not a function");let a=await Tl(e,t,{ftpLs:i}),c=a.fsRemote,s=a.fsLocal,f=0,l=[];return await Vs(s,(async t=>{let e=Fe(t,"rpath",""),n=dl(c,{rpath:e}),i=Fe(t,"rpath",""),a=Fe(t,"path",""),s=t=>{Yu(r)&&r(t)};Cu(n)?(o||t.size!==n.size)&&(await u(a,i,s),f++,l.push({name:t.rpath,reason:`size[${n.size}] of remote file != size[${t.size}] of local file`})):(await u(a,i,s),f++,l.push({name:t.rpath,reason:"no Remote file"}))})),{num:f,files:l}}function Dl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ml(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Dl(Object(r),!0).forEach((function(e){Le(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dl(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Fl(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null,o=Fe(r,"hostname");if(!Du(o))throw new Error(`hostname[${o}] is not an effective string`);let i=Fe(r,"port");Lu(i)||(i=21),i=Au(i);let u=Fe(r,"username");if(!Du(u))throw new Error(`username[${u}] is not an effective string`);let a=Fe(r,"password");if(!Du(a))throw new Error(`password[${a}] is not an effective string`);let c=Fe(r,"timeLimit");function s(t){let e="";if(!Mu(t)&&!Du(t))return e;try{let r=jf(t),n=r.format("YYYY-MM-DDTHH:mm:ss");n=`${n}+00:00`,r=jf(n),e=r.format("YYYY-MM-DDTHH:mm:ssZ")}catch(t){}return e}async function f(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",e=Hi();if(null===n)return e.reject("FTP has not been initialized. please use 'conn' to construct FTP"),e;let r=setTimeout((()=>{e.reject(`ftpLs timeout[${c}]`)}),c);return n.ls(t,((t,n)=>{clearTimeout(r),t?451===Fe(t,"code")?e.resolve([]):e.reject(t):(n=ii(n,(t=>(t.mtime=s(t.time),t.size=Au(t.size),t.isFolder=d(t),t))),e.resolve(n))})),e}async function l(t,e){let r=Hi();if(null===n)return r.reject("FTP has not been initialized. please use 'conn' to construct FTP"),r;let o=setTimeout((()=>{r.reject(`ftpRaw[${t}] timeout[${c}]`)}),c);return n.raw(t,e,((t,e)=>{clearTimeout(o),t?r.reject(t):r.resolve(e)})),r}async function p(t){let e=il(t);return Ui(e)>=1&&await Vs(e,(async t=>{await y(t)||await async function(t){return l("mkd",t)}(t)})),"ok"}async function h(t){return l("cwd",t)}async function v(t){if(null===n)return Promise.reject("FTP has not been initialized. please use 'conn' to construct FTP");let e={},r=null;if(await async function(t){return l("mlst",t)}(t).then((t=>{r=t})).catch((t=>{r={err:t.toString()}})),!Cu(r))return Promise.reject("invalid result from ftpMlst");{let t=Fe(r,"text",""),n=t.indexOf("type=dir;")>=0,o=t.indexOf("type=file;")>=0,i=(t=>{let e=qs(t,";"),r="";return hi(e,(t=>{if("modify="===Ws(t,7)){let e=qs(t,"=");r=Fe(e,1,"")}})),r})(t),u=s(i);e=Ml(Ml({},e),{},{rmlst:r,mtime:u,isFolder:n,isFile:o})}let o=null;if(await async function(t){return l("size",t)}(t).then((t=>{o=t})).catch((t=>{o={err:t.toString()}})),!Cu(o))return Promise.reject("invalid result from ftpSize");{let t=Fe(o,"code",""),r=Fe(o,"text","").replace(`${t} `,"");r=Au(r),e=Ml(Ml({},e),{},{rsize:o,size:r})}return e}function d(t){if(!Cu(t))return!1;let e;return e=Fe(t,"isFolder",!1),e||(e=1===Fe(t,"type",-1),e||e)}async function y(t){return d(await v(t))}function b(t){if(!Cu(t))return!1;let e;return e=Fe(t,"isFile",!1),e||(e=0===Fe(t,"type",-1),e||e)}async function g(r,o){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=Hi();if(null===n)return u.reject("FTP has not been initialized. please use 'conn' to construct FTP"),u;if(!Du(r))return u.reject(`fpRemote[${r}] is not an effective string`),u;if(!Du(o))return u.reject(`fpLocal[${o}] is not an effective string`),u;let a=t.dirname(o);bf(o)&&e.unlinkSync(o),yf(a)||gf(a);let s=await v(r);if(!b(s))return u.reject(`fpRemote[${r}] is not a file`),u;if(!Cu(s)||(l="err",Ru(f=s)&&(Du(l)||Mu(l))&&l in f))return u.reject(`fpRemote[${r}] does not have information`),u;var f,l;let p=Fe(s,"size","");if(!Mu(p))return u.reject(`can not get the size of file[${r}]`),u;p=Au(p);let h=setTimeout((()=>{u.reject(`ftpDownload timeout[${c}]`)}),c);return n.get(r,((t,n)=>{if(t)return clearTimeout(h),void u.reject(t);let a=e.createWriteStream(o),c=0;n.on("data",(t=>{if(Yu(i)){let e=Ui(t);c+=e,i({progress:c/p*100,name:df(o),fpRemote:r,fpLocal:o})}a.write(t)})),n.on("close",(()=>{a.end()})),a.on("finish",(()=>{clearTimeout(h),t?u.reject(t):u.resolve("ok")})),a.on("error",(t=>{console.log("writer error",t)})),n.resume()})),u}async function m(t,r,o){let i=null;if(null===n)return Promise.reject("FTP has not been initialized. please use 'conn' to construct FTP");if(!Du(r))return Promise.reject(`fpRemote[${r}] is not an effective string`);let u=il(r),a=r;if(Ui(u)>=1){await p(r);let t=Ni(u);await h(t),a="."+r.replace(t,"")}let s=await async function(t,r,o){let i=Hi();if(null===n)return i.reject("FTP has not been initialized. please use 'conn' to construct FTP"),i;if(!Du(r))return i.reject(`fpRemote[${r}] is not an effective string`),i;if(!Du(t))return i.reject(`fpLocal[${t}] is not an effective string`),i;if(!bf(t))return i.reject(`fpLocal[${t}] is not a file`),i;let u=e.statSync(t),a=Fe(u,"size",0);if(!Mu(a))return i.reject(`can not get the size of file[${t}]`),i;a=Au(a);let s=e.readFileSync(t),f=setTimeout((()=>{i.reject(`ftpUploadCore timeout[${c}]`)}),c),l=0;return n.put(s,r,((e,n)=>{if(e)return clearTimeout(f),void i.reject(e);if(0===Ui(n))return clearTimeout(f),void i.resolve("ok");if(Yu(o)){let e=Ui(n);l+=e,o({progress:l/a*100,name:df(t),fpRemote:r,fpLocal:t})}})),i}(t,a,o).catch((t=>{i=t}));return Ui(u)>=1&&await h("/"),null!==i?Promise.reject(i):s}return Mu(c)||(c=6e4),c=Au(c),{conn:async function(){let t=Hi();try{n=new If({host:o,port:i,user:u,pass:a}),t.resolve("ok")}catch(e){t.reject(e)}return t},quit:async function(){let t=Hi();if(null===n)return t.reject("FTP has not been initialized. please use 'conn' to construct FTP"),t;let e=setTimeout((()=>{n.destroy(),n=null,t.reject(`ftpQuit timeout[${c}]`)}),c);return n.raw("quit",((r,o)=>{clearTimeout(e),n.destroy(),n=null,r?t.reject(r):t.resolve(o)})),t},ls:f,isFile:async function(t){return b(await v(t))},isFolder:y,download:g,upload:m,syncToLocal:async function(t,e,r){return xl(t,e,r,Ml(Ml({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},{ftpLs:f,ftpDownload:g}))},syncToRemote:async function(t,e,r){return zl(t,e,r,Ml(Ml({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},{ftpLs:f,ftpUpload:m}))},stat:v,mkdir:p,cwd:h,pwd:async function(){return l("pwd")}}}function Al(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function El(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Al(Object(r),!0).forEach((function(e){Le(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Al(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ll(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null,o=Fe(r,"hostname");if(!Du(o))throw new Error(`hostname[${o}] is not an effective string`);let i=Fe(r,"port");Lu(i)||(i=22),i=Au(i);let u=Fe(r,"username");if(!Du(u))throw new Error(`username[${u}] is not an effective string`);let a=Fe(r,"password");if(!Du(a))throw new Error(`password[${a}] is not an effective string`);let c=Fe(r,"timeLimit");async function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",e=null,r=Hi();if(null===n)return r.reject("FTP has not been initialized. please use 'conn' to construct FTP"),r;let o=setTimeout((()=>{r.reject(`ftpLs timeout[${c}]`)}),c),i=await n.list(t).catch((t=>{e=t}));return clearTimeout(o),null!==e?(r.reject(e),r):(i=ii(i,(t=>{let e;return e=jf(t.accessTime),t.atime=e.format("YYYY-MM-DDTHH:mm:ssZ"),e=jf(t.modifyTime),t.mtime=e.format("YYYY-MM-DDTHH:mm:ssZ"),t.isFolder=h(t),t})),r.resolve(i),r)}async function f(t){let e=il(t);if(Ui(e)>=1){let t=Ni(e);await async function(t){return n.mkdir(t,!0)}(t)}return"ok"}async function l(t){let e=null;return await n.stat(t).then((r=>{let n;n=jf(r.accessTime);let o=n.format("YYYY-MM-DDTHH:mm:ssZ");n=jf(r.modifyTime);let i=n.format("YYYY-MM-DDTHH:mm:ssZ");e=El(El({},r),{},{atime:o,mtime:i,name:t})})).catch((t=>{e={err:t.toString()}})),e}function h(t){if(!Cu(t))return!1;let e;return e=!0===Fe(t,"isDirectory",null),e||(e="d"===Fe(t,"type",""),e||!1)}function v(t){if(!Cu(t))return!1;let e;return e=!0===Fe(t,"isFile",null),e||(e="-"===Fe(t,"type",""),e||e)}async function d(r,o){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=Hi();if(null===n)return u.reject("FTP has not been initialized. please use 'conn' to construct FTP"),u;if(!Du(r))return u.reject(`fpRemote[${r}] is not an effective string`),u;if(!Du(o))return u.reject(`fpLocal[${o}] is not an effective string`),u;let a=t.dirname(o);yf(a)||gf(a);let s=await l(r);if(!v(s))return u.reject(`fpRemote[${r}] is not a file`),u;if(!Cu(s))return u.reject(`fpRemote[${r}] does not have information`),u;let f=Fe(s,"size","");if(!Mu(f))return u.reject(`can not get the size of file[${r}]`),u;f=Au(f),bf(o)&&e.unlinkSync(o);let p=setTimeout((()=>{u.reject(`ftpDownload timeout[${c}]`)}),c);return n.fastGet(r,o,{step:(t,e,n)=>{if(Yu(i)){i({progress:t/n*100,name:df(o),fpRemote:r,fpLocal:o})}}}).then((()=>{u.resolve("ok")})).catch((t=>{u.reject(t)})).finally((()=>{clearTimeout(p)})),clearTimeout(p),u}async function y(t,r,o){let i=Hi();if(null===n)return i.reject("FTP has not been initialized. please use 'conn' to construct FTP"),i;if(!Du(r))return i.reject(`fpRemote[${r}] is not an effective string`),i;if(!Du(t))return i.reject(`fpLocal[${t}] is not an effective string`),i;if(!bf(t))return i.reject(`fpLocal[${t}] is not a file`),i;await f(r);let u=e.statSync(t),a=Fe(u,"size",0);if(!Mu(a))return i.reject(`can not get the size of file[${t}]`),i;a=Au(a);let s=setTimeout((()=>{i.reject(`ftpUploadCore timeout[${c}]`)}),c);return n.fastPut(t,r,{step:(e,n,i)=>{if(Yu(o)){o({progress:e/i*100,name:df(t),fpRemote:r,fpLocal:t})}}}).then((()=>{i.resolve("ok")})).catch((t=>{i.reject(t)})).finally((()=>{clearTimeout(s)})),clearTimeout(s),i}return Mu(c)||(c=6e4),c=Au(c),{conn:async function(){return n=new p,await n.connect({host:o,port:i,username:u,password:a}),"ok"},quit:async function(){let t=Hi();if(null===n)return t.reject("FTP has not been initialized. please use 'conn' to construct FTP"),t;let e=setTimeout((()=>{n.end(),n=null,t.reject(`ftpQuit timeout[${c}]`)}),c);try{n.end(),n=null,clearTimeout(e),t.resolve("ok")}catch(e){t.reject(e)}return t},ls:s,isFile:async function(t){return v(await l(t))},isFolder:async function(t){return h(await l(t))},download:d,upload:y,syncToLocal:async(t,e,r)=>xl(t,e,r,{ftpLs:s,ftpDownload:d}),syncToRemote:async(t,e,r)=>zl(t,e,r,{ftpLs:s,ftpUpload:y}),stat:l,mkdir:f,cwd:async function(t){return n.cwd(t)},pwd:async function(){return n.pwd()}}}async function Rl(){return null}async function Cl(){return null}async function Yl(){return null}async function Il(t){return null}async function Ul(t){return null}async function Nl(t,e){return null}async function Hl(t,e,r){return null}async function ql(t,e,r){return null}async function Bl(t,e,r){return null}async function Wl(t){return null}async function Vl(t){return null}async function Ql(t){return null}async function Zl(t){return null}return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Fe(t,"transportation","FTP");if("FTP"!==e&&"SFTP"!==e)throw new Error(`transportation[${e}] is not FTP or SFTP`);let r=null;"FTP"===e?r=new Fl(t):"SFTP"===e&&(r=new Ll(t));let n={doc_conn:Rl,doc_quit:Cl,doc_ls:Yl,doc_isFile:Il,doc_isFolder:Ul,doc_download:Nl,doc_upload:Hl,doc_syncToLocal:ql,doc_syncToRemote:Bl,doc_stat:Wl,doc_mkdir:Vl,doc_cwd:Ql,doc_pwd:Zl};return r.__doc___=n,r}}));
//# sourceMappingURL=w-ftp.umd.js.map
